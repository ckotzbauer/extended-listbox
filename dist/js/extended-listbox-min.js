/*!
 * Extended ListBox
 * Maintainer  Christian Kotzbauer <christian.kotzbauer@gmail.com>
 * Website     https://ckotzbauer.github.io/extended-listbox/documentation/latest/
 * Version     5.0.2
 * Released    2020-05-16T05:07:33.321Z
 * License     MIT
 * Copyright   (c) 2020
 */
var extendedlistbox=function(t){var e={};function s(i){if(e[i])return e[i].exports;var l=e[i]={i:i,l:!1,exports:{}};return t[i].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var l in t)s.d(i,l,function(e){return t[e]}.bind(null,l));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){s(2),t.exports=s(1)},function(t,e){},function(t,e,s){"use strict";s.r(e);let i=(()=>{class t{constructor(t,e,s){this.dataItems=[],this.selectedDataItems=[],(e=e||{}).searchBar=e.searchBar||!1,e.searchBarWatermark=e.searchBarWatermark||"Search...",e.searchBarButton=e.searchBarButton||{visible:!1},this._target=t,this._settings=e,this.multiple=s}_createListbox(){this._target.classList.add(t.MAIN_CLASS),this._settings.searchBar&&this._createSearchbar(),this._createList()}_createSearchbar(){const e=document.createElement("div");e.classList.add(t.SEARCHBAR_CLASS+"-wrapper"),this._target.appendChild(e);const s=document.createElement("input");if(s.classList.add(t.SEARCHBAR_CLASS),s.setAttribute("placeholder",this._settings.searchBarWatermark),e.appendChild(s),s.onkeyup=()=>{const e=s.value.toLowerCase();if(""!==e){const s=this._list.querySelectorAll("."+t.LIST_ITEM_CLASS);for(let i=0;i<s.length;i++){const l=s.item(i);l.classList.contains(t.LIST_ITEM_CLASS_GROUP)||(-1!==l.innerText.toLowerCase().indexOf(e)?(l.style.display="block",l.parentElement.style.display="block"):l.style.display="none")}const i=this._list.querySelectorAll("."+t.LIST_ITEM_CLASS_GROUP);for(let e=0;e<i.length;e++){const s=i.item(e),l=s.querySelectorAll("."+t.LIST_ITEM_CLASS);let n=-1;for(let t=0;t<l.length;t++)if("none"!==l.item(t).style.display){n=t;break}s.style.display=-1===n?"none":"block"}}else{const e=this._list.querySelectorAll("."+t.LIST_ITEM_CLASS);for(let t=0;t<e.length;t++){e.item(t).style.display="block"}}this._filterChanged()},this._settings.searchBarButton.visible){const s=document.createElement("button");if(s.id="searchBarButton",s.setAttribute("tabindex","-1"),s.classList.add(t.SEARCHBAR_BUTTON_CLASS),e.appendChild(s),this._settings.searchBarButton.onClick&&(s.onclick=this._settings.searchBarButton.onClick),this._settings.searchBarButton.icon){const t=document.createElement("i");this._settings.searchBarButton.icon.split(" ").forEach(e=>t.classList.add(e)),s.appendChild(t)}}this._searchbarWrapper=e,this._searchbar=s}_createList(){if(this._list=document.createElement("div"),this._list.classList.add(t.LIST_CLASS),this._target.appendChild(this._list),this._resizeListToListBox(),this._settings.getItems){const t=this._settings.getItems();if(t)for(let e in t)this.addItem(this._prepareDataItem(t[e]),!0)}}_generateItemId(){return"listBoxItem"+parseInt(""+1e7*Math.random(),10)}_prepareDataItem(t){let e={childItems:[],disabled:!1,groupHeader:null,id:this._generateItemId(),parentGroupId:null,selected:!1,text:null,index:null};if("string"==typeof t||"number"==typeof t)return e.text=t,e;{for(let s in t)t.hasOwnProperty(s)&&(e[s]=t[s]);const s=[];for(let t in e.childItems)s.push(this._prepareDataItem(e.childItems[t]));return e.childItems=s,e}}_addItem(e,s,i){this.dataItems.push(e);const l=document.createElement("div");if(l.classList.add(t.LIST_ITEM_CLASS),l.innerText=e.text,l.id=e.id,l.tabIndex=1,l.title=e.text,l.onkeydown=e=>{e.target.classList.contains(t.LIST_ITEM_CLASS_GROUP)||2!==e.eventPhase||(13===e.which?this._fireEvent(t.EVENT_ITEM_ENTER_PRESSED,this._getDataItem(e.target.id)):38===e.which?(e.preventDefault(),this._itemArrowUp(e.target)):40===e.which&&(e.preventDefault(),this._itemArrowDown(e.target)))},l.onclick=t=>{2===t.eventPhase&&this._itemClicked(t.target,t.ctrlKey)},l.ondblclick=e=>{e.target.classList.contains(t.LIST_ITEM_CLASS_GROUP)||this._fireEvent(t.EVENT_ITEM_DOUBLE_CLICKED,this._getDataItem(e.target.id))},e.disabled&&l.classList.add(t.LIST_ITEM_CLASS_DISABLED),e.groupHeader&&l.classList.add(t.LIST_ITEM_CLASS_GROUP),e.selected&&this._itemClicked(l,!0),e.parentGroupId){const t=this._locateItem(e.parentGroupId);t&&(i=t)}i&&l.classList.add(t.LIST_ITEM_CLASS_CHILD);let n=i||this._list;if(void 0===e.index||null===e.index||s?n.appendChild(l):(n=n.children.item(e.index),n.parentElement.insertBefore(l,n)),e.childItems&&e.childItems.length>0){l.classList.contains(t.LIST_ITEM_CLASS_GROUP)||l.classList.add(t.LIST_ITEM_CLASS_GROUP);for(let t=0;t<e.childItems.length;t++)this._addItem(this._prepareDataItem(e.childItems[t]),s,l)}return e.id}_resizeListToListBox(){const t=window.getComputedStyle(this._target,null),e=parseInt(t.getPropertyValue("padding-top"),10)+parseInt(t.getPropertyValue("padding-bottom"),10);let s=parseInt(t.getPropertyValue("height"),10)-e;this._settings.searchBar&&(s-=this._searchbarWrapper.offsetHeight),this._list.style.height=s+"px"}_clearItemSelection(e){if(e.classList.remove(t.LIST_ITEM_CLASS_SELECTED),this._getDataItem(e.id).selected=!1,this.multiple){const t=this._getDataItem(e.id),s=this.selectedDataItems.indexOf(t);this.selectedDataItems.splice(s,1)}else this.selectedDataItems.splice(0,this.selectedDataItems.length)}_locateItem(t){let e=null;for(let s=0;s<this.dataItems.length;s++)if(this.dataItems[s].id===t||this.dataItems[s].text===t){e=this.dataItems[s].id;break}let s=this._target.querySelector("#"+e);if(!s){const t=this._target.querySelectorAll('div[title="'+e+'"]');if(t.length>0)return t[0]}return s}_findNextItem(e,s){let i=e;for(;;){if(i=i[s+"ElementSibling"],!i){const t=e.parentElement;if(!t)return null;{const e=t[s+"ElementSibling"];if(!e)return null;const l=e.children;i=l.length>0?"next"===s?l[0].firstElementChild:l[0].lastElementChild:t}}if(!i||!i.classList.contains(t.LIST_ITEM_CLASS_DISABLED))return i}}_fireEvent(t,e){let s=this._settings["on"+t[0].toUpperCase()+t.substr(1)];s&&s({eventName:t,target:this._target,args:e})}_elementIndex(t){return Array.prototype.slice.call(t.parentElement.children).indexOf(t)}_getDataItem(t){for(let e=0;e<this.dataItems.length;e++)if(this.dataItems[e].id===t)return this.dataItems[e];return null}_itemArrowUp(t){const e=this._findNextItem(t,"previous");e&&(this._clearItemSelection(t),this._itemClicked(e))}_itemArrowDown(t){const e=this._findNextItem(t,"next");e&&(this._clearItemSelection(t),this._itemClicked(e))}addItem(e,s=!1){s||this.multiple||!e.selected||this.clearSelection();const i=this._addItem(this._prepareDataItem(e),s,null);return s||this._fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()),i}addItems(t){return t.map(t=>this.addItem(t))}removeItem(e){const s=this._locateItem(e);if(s){this._clearItemSelection(s),s.parentElement.removeChild(s);const e=this._getDataItem(s.id);this.dataItems.splice(this.dataItems.indexOf(e),1);const i=this.selectedDataItems.indexOf(e);-1!==i&&this.selectedDataItems.splice(i,1),this._fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems())}}removeItems(t){t.forEach(t=>this.removeItem(t))}destroy(){for(;this._target.firstChild;)this._target.removeChild(this._target.firstChild);this._target.classList.remove(t.MAIN_CLASS)}clearSelection(){const e=this._list.querySelectorAll("."+t.LIST_ITEM_CLASS);for(let s=0;s<e.length;s++)e[s].classList.remove(t.LIST_ITEM_CLASS_SELECTED),this._getDataItem(e[s].id).selected=!1;this.selectedDataItems=[]}getItem(t){let e=null;const s=this._locateItem(t);return s&&(e=this._getDataItem(s.id)),e}getItems(){const t=[],e=this._list.children;for(let s=0;s<e.length;s++)t.push(this._getDataItem(e[s].id));return t}moveItemUp(e){let s=null;const i=this._locateItem(e);return i&&i.previousElementSibling?(i.parentElement.insertBefore(i,i.previousElementSibling),s=this._elementIndex(i),this._getDataItem(i.id).index=s,this._fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems())):i&&(s=this._elementIndex(i)),s}moveItemDown(e){let s=null;const i=this._locateItem(e);return i&&i.nextElementSibling?(i.parentNode.insertBefore(i.nextElementSibling,i),s=this._elementIndex(i),this._getDataItem(i.id).index=s,this._fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems())):i&&(s=this._elementIndex(i)),s}moveItemToTop(e){let s=null;const i=this._locateItem(e);return i&&(i.parentElement.insertBefore(i,i.parentElement.firstElementChild),s=this._elementIndex(i),this._getDataItem(i.id).index=s,this._fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems())),s}moveItemToBottom(e){let s=null;const i=this._locateItem(e);return i&&(i.parentElement.appendChild(i),s=this._elementIndex(i),this._getDataItem(i.id).index=s),this._fireEvent(t.EVENT_ITEMS_CHANGED,this.getItems()),s}enable(e){e?this._target.classList.remove(t.MAIN_DISABLED_CLASS):this._target.classList.contains(t.MAIN_DISABLED_CLASS)||this._target.classList.add(t.MAIN_DISABLED_CLASS)}getSelection(){return this.selectedDataItems}}return t.MAIN_CLASS="listbox-root",t.MAIN_DISABLED_CLASS="listbox-disabled",t.LIST_CLASS="listbox",t.LIST_ITEM_CLASS="listbox-item",t.LIST_ITEM_CLASS_DISABLED="listbox-item-disabled",t.LIST_ITEM_CLASS_SELECTED="listbox-item-selected",t.LIST_ITEM_CLASS_GROUP="listbox-item-group",t.LIST_ITEM_CLASS_CHILD="listbox-item-child",t.SEARCHBAR_CLASS="listbox-searchbar",t.SEARCHBAR_BUTTON_CLASS="listbox-searchbar-button",t.EVENT_VALUE_CHANGED="valueChanged",t.EVENT_FILTER_CHANGED="filterChanged",t.EVENT_ITEMS_CHANGED="itemsChanged",t.EVENT_ITEM_ENTER_PRESSED="itemEnterPressed",t.EVENT_ITEM_DOUBLE_CLICKED="itemDoubleClicked",t})();window.SingleSelectListBox=class extends i{constructor(t,e){super(t,e,!1),this._selectedDomItem=null,this._createListbox()}_itemClicked(t,e=!1){if(t.classList.contains(i.LIST_ITEM_CLASS_DISABLED)||t.classList.contains(i.LIST_ITEM_CLASS_GROUP))return;this._selectedDomItem&&(this.clearSelection(),this._selectedDomItem=null),t.classList.toggle(i.LIST_ITEM_CLASS_SELECTED),t.focus(),this._selectedDomItem=t;const s=this._getDataItem(t.id);s.selected=!0,this.selectedDataItems.push(s),this._fireEvent(i.EVENT_VALUE_CHANGED,this._getDataItem(t.id))}_filterChanged(){if(!this._selectedDomItem||"none"===this._selectedDomItem.style.display){const t=this._list.querySelectorAll("."+i.LIST_ITEM_CLASS);for(let e=0;e<t.length;e++){let s=t.item(e);if(!s.classList.contains(i.LIST_ITEM_CLASS_GROUP)&&!s.classList.contains(i.LIST_ITEM_CLASS_DISABLED)&&"none"!==s.style.display){this._itemClicked(s);break}}}this._fireEvent(i.EVENT_FILTER_CHANGED,this._searchbar.value)}},window.MultiSelectListBox=class extends i{constructor(t,e){super(t,e,!0),this._createListbox()}_itemClicked(t,e=!1){if(t.classList.contains(i.LIST_ITEM_CLASS_DISABLED)||t.classList.contains(i.LIST_ITEM_CLASS_GROUP))return;let s=this._getDataItem(t.id);if(t.classList.contains(i.LIST_ITEM_CLASS_SELECTED))if(e){t.classList.remove(i.LIST_ITEM_CLASS_SELECTED),s.selected=!1;const e=this.selectedDataItems.indexOf(this._getDataItem(t.id));this.selectedDataItems.splice(e,1)}else this.clearSelection(),t.classList.add(i.LIST_ITEM_CLASS_SELECTED),s.selected=!0,this.selectedDataItems.push(s);else e||this.clearSelection(),t.focus(),t.classList.add(i.LIST_ITEM_CLASS_SELECTED),s.selected=!0,this.selectedDataItems.push(s);this._fireEvent(i.EVENT_VALUE_CHANGED,this.selectedDataItems)}_filterChanged(){this._fireEvent(i.EVENT_FILTER_CHANGED,this._searchbar.value)}}}]);
//# sourceMappingURL=extended-listbox-min.js.map